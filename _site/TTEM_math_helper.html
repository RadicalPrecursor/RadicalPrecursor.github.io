<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Theory and Technique of Electronic Music Notes and Math | Kate’s Hall of Miscellany</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="Theory and Technique of Electronic Music Notes and Math" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="a gallery of projects and other oddities" />
<meta property="og:description" content="a gallery of projects and other oddities" />
<link rel="canonical" href="http://0.0.0.0:4000/TTEM_math_helper.html" />
<meta property="og:url" content="http://0.0.0.0:4000/TTEM_math_helper.html" />
<meta property="og:site_name" content="Kate’s Hall of Miscellany" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Theory and Technique of Electronic Music Notes and Math" />
<script type="application/ld+json">
{"headline":"Theory and Technique of Electronic Music Notes and Math","@type":"WebPage","description":"a gallery of projects and other oddities","url":"http://0.0.0.0:4000/TTEM_math_helper.html","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="http://0.0.0.0:4000/feed.xml" title="Kate's Hall of Miscellany" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">Kate&#39;s Hall of Miscellany</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/TTEM_math_helper.html">Theory and Technique of Electronic Music Notes and Math</a><a class="page-link" href="/">Projects</a><a class="page-link" href="/p5project.html">Simple p5 sketch</a><a class="page-link" href="/test.html">Projects</a><a class="page-link" href="/The_Pile/weather.html">Analysis of NOAA Data</a><a class="page-link" href="/whatToDo.html">So you&#39;re feeling executive dysfuntion...</a><a class="page-link" href="/node_http_server.html">A Tiny Ultra-minimalist HTTP Server Using Node</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <html lang="en-us">
    <head>
        <meta charset="utf-8" />
		<title>Music Math Helper</title>
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
        <script id="MathJax-script" async="" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    </head>
    <body>
    <h1>Tools</h1>
    <h3>𝑓 to MIDI frequency</h3>
    <p>MIDI pitches are expressed as integers from 0 - 127.  They are calculated as a function of real-time frequency 𝑓 as:
    \[m = 69 + 12 \log_2({f \over 440})\]
    </p>
    <br />
    <form onsubmit="return fToMIDI();">
        Real time frequency, in Hz = <input type="text" id="freqf" />
        <br />
        <input type="submit" value="Convert!" />
        <br />
        MIDI frequency = <input type="text" id="MIDIResult" readonly="" />
    </form>

    <script>
    function fToMIDI () {
    var f = parseFloat(document.getElementById("freqf").value);
    var result = parseInt(69 + (12*(Math.log2((f/440)))));
    document.getElementById("MIDIResult").value = result;
    return false; // Stop form submit
    }
    </script>

    <h3>MIDI frequency to 𝑓 </h3>

    <form onsubmit="return MIDItof();">
        MIDI frequency = <input type="text" id="MIDIfreq" />
        <br />
        <input type="submit" value="Convert!" />
        <br />
        Real time frequency, in Hz = <input type="text" id="fResult" readonly="" />

    </form>

    <script>
    function MIDItof () {
    var MIDIfreq = parseFloat(document.getElementById("MIDIfreq").value);
    var result = 440 * 2**((MIDIfreq-69)/12);
    document.getElementById("fResult").value = result;
    return false; // Stop form submit
    }
    </script>

    <h3>Frequency Transposition</h3>

    <p>A real-time frequency 𝑓 will correspond directly to a percieved pitch, and the musical relationships betweene pitches can be expressed mathematically as so:

    \[f_t = 2^{h \over 12}f_i\]

    where \(𝑓_i\) is the initial frequency, and \(𝑓_t\) is the frequency with the halfstep relation corresponding to ℎ halfsteps.</p>
    <form onsubmit="return transposeFreq();">
        initial frequency, in Hz = <input type="text" id="initialFreq" />
        <br />
        number of halfsteps = <input type="text" id="halfsteps" />
        <br />
        <input type="submit" value="Convert!" />
        <br />
        transposed frequency, in Hz = <input type="text" id="transpResult" readonly="" />

    </form>

    <script>
    function transposeFreq () {
    var freq_i = parseFloat(document.getElementById("initialFreq").value);
    var h = parseFloat(document.getElementById("halfsteps").value);
    result = freq_i * 2**(h/12);
    document.getElementById("transpResult").value = result;
    return false; // Stop form submit
    }
    </script>
    <p>A full octave corresponds to twelve halfsteps, and thus increasing by ℎ = 12 halfsteps will double the initial frequency.</p>

    <h3>Transposition Formulas for Looping Wavetables</h3>

    <p>To solve the real-time frequency 𝑓 for a desired halfstep ℎ, the formula:

    \[f = {2^{h \over 12}R \over N}\]

    Conversely, to solve the number 𝑁 of samples in a wavetable to achieve ℎ from a starting frequency 𝑓:

    \[N = {2^{h \over 12}R \over f}\]

    <p>The sample rate 𝑅 is typically standardized to 44100 samples/s.</p>


    <h1>Notes</h1>

    A Sinusoid wave can be expressed as:

    \[x[n] = a cos(\omega n + \phi)\]

    where:
    𝑛 is the sample number, an integer
    𝑎 is the amplitude
    𝜔 is the angular frequency
    𝛷 is the initial phase, which may take values from -1 to 1

    Each sample is discrete and unitless, so to produce audio samples must be played at a rate and for a duration:

    \[n = Rt\]

    where:
    𝑅 is the sample rate in Hz (or \(s^{-1}\))
    𝑡 is the time in seconds (s)

    Real-time frequency may be related to sample rate and angular frequency as:

    \[f = {{\omega R} \over {2 \pi}}\]

    where:
    𝑓 is the real-time frequency, corresponding to a pitch, in Hz (or s^(-1))
    2𝜋 is the radians conversion factor to move from angular frequency (𝜔)

    Examining the sinusoid function, note that the possible values for cos([anything]) run only from -1 to 1, so the amplitude 𝑎 is a multiplicative factor on our wave.  An increased amplitude corresponds to increaded loudness of a sound.

    The peak amplitude refers to the maximum sample value within a given window, typically understood as maximum of the absolute value (so if over the window sample values range from -10 to 2, the peak amplitude would be 10.)

    Under ordinary conditions we can take peak amplitude A(peak) = 𝑎 and root-mean squared amplitude \[A_{RMS} = {𝑎 \over \sqrt{2}}\]

    Decibels are logarithmic relative units corresponding to amplitude:

    \[d = 20 \log_{10}{a \over a_0}\]
    𝑑 = 20 log (𝑎/𝑎(0))

    where:
    𝑑 are decibels
    log is the base-10 logarithm
    𝑎(0) is the reference amplitude

    The typical reference amplitude in digital audio assumes the hardware has a maximum amplitude of 1, and takes 𝑎(0) = 10^(-5) = 0.00001

[Return to main page](/index)

</p></body></html>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Kate&#39;s Hall of Miscellany</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Kate&#39;s Hall of Miscellany</li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>a gallery of projects and other oddities</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
